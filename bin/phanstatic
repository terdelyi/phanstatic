#!/usr/bin/env php
<?php

declare(strict_types=1);

use Symfony\Component\Console\Command\Command;
use Terdelyi\Phanstatic\Phanstatic;

include $_composer_autoload_path ?? __DIR__.'/../vendor/autoload.php';

try {
    $workingDir = getcwd() ?: dirname(__DIR__);
    $application = new Phanstatic($workingDir);
    $application->run();
} catch (Throwable $e) {
    echo 'Error: '.$e->getMessage().' in '.$e->getFile().'#'.$e->getLine();

    exit(Command::FAILURE);
}
